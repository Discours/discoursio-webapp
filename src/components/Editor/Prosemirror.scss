.ProseMirror {
  font-size: 1.6rem;
  outline: none;
  min-height: 300px;
}

.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
  font-weight: 500;
  font-size: 20px;
  line-height: 30px;
  opacity: 0.3;
}

// Keeping the cursor active when moving outside the editable area

.articleEditor p,
.articleEditor ul,
.articleEditor h4,
.articleEditor ol {
  box-sizing: content-box;
  flex: 0 0 auto;

  @media (width >= 768px) {
    padding-left: calc(21.9% + 3px);
    max-width: 72.7%;
  }

  @media (width >= 1200px) {
    padding-left: calc(21.5% + 3px);
    max-width: 64.9%;
  }
}

.articleEditor blockquote,
.articleEditor figure,
.articleEditor article[data-type='incut'] {
  @media (width >= 768px) {
    margin-left: calc(21.9% + 3px) !important;
    max-width: 73.6%;
  }

  @media (width >= 1200px) {
    margin-left: calc(21.4% + 3px) !important;
    max-width: 65.3%;
  }
}

.articleEditor h2 {
  @media (width >= 768px) {
    padding-left: calc(21.9% + 2px);
    max-width: 72.7%;
  }

  @media (width >= 1200px) {
    padding-left: 21.5%;
    max-width: 87.1%;
  }
}

.articleEditor h3 {
  @media (width >= 768px) {
    padding-left: calc(21.9% + 2px);
  }

  @media (width >= 1200px) {
    padding-left: 21.5%;
    max-width: 87.1%;
  }
}

.articleEditor * p,
.articleEditor * h2,
.articleEditor * h3,
.articleEditor * h4 {
  @media (width >= 768px) {
    padding-left: unset;
    max-width: unset;
  }
}

/* Give a remote user a caret */
.collaboration-cursor__caret {
  border-left: 1px solid #0d0d0d;
  border-right: 1px solid #0d0d0d;
  margin-left: -1px;
  margin-right: -1px;
  pointer-events: none;
  position: relative;
  word-break: normal;
}

/* Render the username above the caret */
.collaboration-cursor__label {
  border-radius: 3px 3px 3px 0;
  color: #0d0d0d;
  font-size: 12px;
  font-style: normal;
  font-weight: 600;
  left: -1px;
  line-height: normal;
  padding: 0.1rem 0.3rem;
  position: absolute;
  top: -1.4em;
  user-select: none;
  white-space: nowrap;
}

.embed-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background: #f1f1f1;
  margin: 4rem 0;

  iframe {
    border: none;
    overflow: hidden;
  }
}

.horizontalRule {
  border-top: 2px solid #000;
}

mark.highlight {
  box-decoration-break: clone;
  padding: 0.2em 0;
}

// custom atibutes fro TipTap Nodes

@include media-breakpoint-up(sm) {
  [data-float] {
    max-width: 50%;
  }

  [data-float='left'] {
    float: left;
    max-width: 35%;
    margin: 1rem 2.2em 0 0;
  }

  [data-float='right'] {
    float: right;
    margin: 1rem 0 1rem 2.2em;
    max-width: 35%;
  }

  [data-float='half-left'] {
    float: left;
    margin: 1rem 1rem 0;

    @include media-breakpoint-up(md) {
      max-width: 50%;
      min-width: 30%;
    }
  }

  [data-float='half-right'] {
    float: right;
    margin: 1rem 0;

    @include media-breakpoint-up(md) {
      max-width: 50%;
      min-width: 30%;
    }
  }
}

.ProseMirror blockquote {
  p:last-child {
    margin-bottom: 0;
  }

  &[data-type='quote'] {
    @include font-size(1.4rem);

    border: solid #000;
    border-width: 0 0 0 2px;
    margin: 1.6rem 0;
    padding: 0 0 0 1.5em;

    &[data-float='left'] {
      padding-left: 0;
      padding-right: 0;
      margin-right: 1.6rem;
      border-width: 0 2px 0 0;
    }

    &[data-float='right'] {
      margin-left: 1.6rem;
      border-width: 0 0 0 2px;
    }
  }

  &[data-type='punchline'] {
    border: solid #000;
    border-width: 2px 0;

    @include font-size(3.2rem);

    font-weight: 700;
    line-height: 1.2;
    margin: 1em 0;
    padding: 2.4rem 0;

    &[data-float='left'],
    &[data-float='right'] {
      @include font-size(2.2rem);

      line-height: 1.4;
    }

    @include media-breakpoint-up(sm) {
      &[data-float='left'] {
        margin-right: 1.5em;
      }

      &[data-float='right'] {
        margin-left: 1.5em;
      }
    }
  }
}

.ProseMirror article[data-type='incut'] {
  background: #f1f2f3;

  @include font-size(1.4rem);

  margin: 1em -1rem;
  padding: 2em 2rem;
  transition: background 0.3s ease-in-out;

  @include media-breakpoint-up(sm) {
    margin-left: -2rem;
    margin-right: -2rem;
  }

  @include media-breakpoint-up(lg) {
    margin-right: -6%;
    padding-left: 3em;
    padding-right: 3em;
  }

  @include media-breakpoint-up(lg) {
    margin-left: -3em;
    margin-right: -3em;
  }

  &[data-float] img {
    float: none;
    max-width: unset;
    width: 100% !important;
    margin: 0;
  }

  &[data-float='left'],
  &[data-float='half-left'] {
    margin-left: -1rem;

    @include media-breakpoint-up(sm) {
      margin-left: -2rem;
      margin-right: 2rem;
    }

    @include media-breakpoint-up(lg) {
      margin-left: -6%;
    }

    @include media-breakpoint-up(xl) {
      margin-left: -12.5%;
    }
  }

  &[data-float='right'],
  &[data-float='half-right'] {
    margin-right: -1rem;

    @include media-breakpoint-up(sm) {
      margin-left: 2rem;
      margin-right: -2rem;
    }

    @include media-breakpoint-up(lg) {
      margin-right: -6%;
    }

    @include media-breakpoint-up(xl) {
      margin-right: -12.5%;
    }
  }

  *:last-child {
    margin-bottom: 0;
  }

  &[data-bg='black'] {
    background: #000;
    color: #fff;
  }

  &[data-bg='yellow'] {
    background: #f6e3a1;
  }

  &[data-bg='pink'] {
    background: #f1b5bc;
  }

  &[data-bg='green'] {
    background: #eafff2;
  }

  &[data-bg='white'] {
    background: #fff;
    box-shadow: 0 0 0 1px #000;
  }
}

figure[data-type='capturedImage'] {
  flex-direction: column-reverse;
}
