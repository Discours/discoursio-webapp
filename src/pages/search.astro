---
import { SearchPage } from '../components/Views/Search'
import Zine from '../layouts/zine.astro'
import { apiClient } from '../utils/apiClient'

const params: URLSearchParams = Astro.url.searchParams
const q = params.get('q')
const results = await apiClient.getSearchResults({ query: q, page: 1, size: 50 })
---

<Zine>
  <SearchPage results={results || []} client:load />
</Zine>
